<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>settings.user Settings</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="main.css">

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.5/angular.min.js"></script>
    <script type="text/javascript" src="app.js"></script>
</head>
<body>
    <div id="content" class="container" ng-controller="VerifyController as verify">
        <h2>Account Settings</h2>
        <div class="row">
            <fieldset class="verify col-md-4 form-group">
                <label for="password-input">Current Password</label>
                <input id="password-input" type="text" 
                       ng-model="password" 
                       ng-change="verify.verify()" 
                       class="form-control"
                       ng-class="{ success: verified, checking: checking, invalid: !verified }"/>
            </fieldset>
        </div>
        <form action="" name="account-settings" class="account-settings form-group" ng-controller="SettingsController as settings" novalidate>
            <div class="row">
                <fieldset class="left-pane col-md-4" ng-disabled="!verified">
                    <label for="username-input">Web Address</label>
                    <input type="text" ng-model="settings.user.username" id="username-input" class="form-control"/>

                    <label class="cotrol-label" for="web-address">Profile Url</label>
                    <p id="web-address" class="form-control-static" ng-bind="settings.user.username | userUrl"></p>
                </fieldset>
                <fieldset class="center-pane col-md-4" ng-disabled="!verified">
                    <label for="email-input">Email</label>
                    <input id="email-input" class="form-control" type="text" ng-model="settings.user.email">

                    <label for="password1-input">New Password</label>
                    <input id="password-input" class="form-control" type="text" ng-model="settings.user.password1">

                    <label for="password2-input">Re-enter New Password</label>
                    <input id="password-input" class="form-control" type="text" ng-model="settings.user.password2">
                </fieldset>
                <fieldset class="right-pane col-md-4" ng-disabled="!verified">
                    <label for="timezone-input">Time Zone</label>
                    <select id="timezone-input" class="form-control" name="timzone-input" ng-model="settings.user.timezone">
                        <option value="LA" selected>America/Los Angeles</option>
                        <option value="MI">America/Miami</option>
                        <option value="AL">America/Alaska</option>
                        <option value="CH">America/Chicago</option>
                        <option value="BA">Asia/Baghdad</option>
                        <option value="BE">Atlantic/Bermuda</option>
                    </select>
                </fieldset>
            </div>

            <div class="row">
                <fieldset class="button-set col-md-12" ng-disabled="!verified || settings.isUnchanged()">
                    <button type="button" class="btn btn-default" ng-click="settings.reset()">RESET</button>
                    <button type="button" class="btn btn-primary" ng-click="settings.update()">SAVE</button>
                </fieldset>
            </div>

            <pre>user = {{settings.user | json}}</pre>
        </form>
    </div>
</body>
</html>
